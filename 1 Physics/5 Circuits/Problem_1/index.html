<!DOCTYPE html>

<html class="writer-html5" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="../../../img/favicon.ico" rel="shortcut icon"/>
<title>Problem 1 - Physics and Mathematics</title>
<link href="../../../css/theme.css" rel="stylesheet"/>
<link href="../../../css/theme_extra.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" rel="stylesheet"/>
<script>
        // Current page data
        var mkdocs_page_name = "Problem 1";
        var mkdocs_page_input_path = "1 Physics/5 Circuits/Problem_1.md";
        var mkdocs_page_url = null;
      </script>
<!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
<script>hljs.highlightAll();</script>
</head>
<body class="wy-body-for-nav" role="document">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side stickynav" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href="../../.."> Physics and Mathematics
        </a><div role="search">
<form action="../../../search.html" class="wy-form" id="rtd-search-form" method="get">
<input aria-label="Search docs" name="q" placeholder="Search docs" title="Type search term here" type="text"/>
</form>
</div>
</div>
<div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../..">Introduction</a>
</li>
</ul>
<p class="caption"><span class="caption-text">1 Physics</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal">1 Mechanics</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../1%20Mechanics/Problem_1/">Investigation of the Range as a Function of the Angle of Projection</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../1%20Mechanics/Problem_2/">PROBLEM 2</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">2 Gravity</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../2%20Gravity/Problem_1/">Problem 1</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../2%20Gravity/Problem_2/">Problem 2</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../2%20Gravity/Problem_3/">Problem 3</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">3 Waves</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../3%20Waves/Problem_1/">Problem 1</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">4 Electromagnetism</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../4%20Electromagnetism/Problem_1/">Simulating the Effects of the Lorentz Force</a>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal current">5 Circuits</a>
<ul class="current">
<li class="toctree-l2 current"><a class="reference internal current" href="#">Problem 1</a>
<ul class="current">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">6 Statistics</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../6%20Statistics/Problem_1/">Problem 1</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../6%20Statistics/Problem_2/">Problem 2</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">7 Measurements</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../7%20Measurements/Problem_1/">Problem 1</a>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">2 Mathematics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../2%20Mathematics/1%20Linear_algebra/">Linear Algebra</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../2%20Mathematics/2%20Analytic_geometry/">Analytic geometry</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../2%20Mathematics/3%20Calculus/">Calculus</a>
</li>
</ul>
<p class="caption"><span class="caption-text">3 Discret Mathematics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal">1 Set Theory and ...</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/1%20Set%20Theory%20and%20.../_02%20Set_Theory/">Set Theory</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/1%20Set%20Theory%20and%20.../_03%20Relations/">Relations</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/1%20Set%20Theory%20and%20.../_04%20Functions/">Functions</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">2 Number Theory and ...</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/2%20Number%20Theory%20and%20.../_05%20Combinatorics/">Combinatorics</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/2%20Number%20Theory%20and%20.../_08%20Number_Theory/">Number Theory</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">3 Recurrence and ...</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/3%20Recurrence%20and%20.../_06%20Sequences_and_Series/">Sequences and Series</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/3%20Recurrence%20and%20.../_07%20Induction/">Induction</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/3%20Recurrence%20and%20.../_09%20Recurrence/">Recurrence</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">4 Graph Theory and ...</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/4%20Graph%20Theory%20and%20.../_10%20Graph_Theory/">Graph Theory</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">5 Logic</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/5%20Logic/_01%20Logic/">Logic</a>
</li>
</ul>
</li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
<nav aria-label="Mobile navigation menu" class="wy-nav-top" role="navigation">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../../..">Physics and Mathematics</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content"><div aria-label="breadcrumbs navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a aria-label="Docs" class="icon icon-home" href="../../.."></a></li>
<li class="breadcrumb-item">1 Physics</li>
<li class="breadcrumb-item">5 Circuits</li>
<li class="breadcrumb-item active">Problem 1</li>
<li class="wy-breadcrumbs-aside">
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div class="section" itemprop="articleBody">
<h1 id="problem-1">Problem 1</h1>
<h1 id="equivalent-resistance-using-graph-theory">Equivalent Resistance Using Graph Theory</h1>
<h2 id="task-1-simplified-algorithm-description">Task 1: Simplified Algorithm Description</h2>
<h3 id="introduction">Introduction</h3>
<p>Calculating the equivalent resistance of a circuit is fundamental in electrical engineering. While traditional methods involve iteratively applying series and parallel resistor rules, these approaches can become cumbersome for complex circuits with many components. Graph theory offers a more systematic and algorithmic approach to solving this problem.</p>
<p>In this approach:</p>
<ul>
<li><strong>Nodes</strong> represent junctions in the circuit.</li>
<li><strong>Edges</strong> represent resistors, with the resistance values as the weights of the edges.</li>
</ul>
<p>This document describes the algorithm for calculating the equivalent resistance of a circuit using graph theory.</p>
<hr/>
<h3 id="key-concepts-for-the-algorithm">Key Concepts for the Algorithm</h3>
<h4 id="series-connection">Series Connection:</h4>
<ul>
<li><strong>Series connection</strong>: Resistors are connected end-to-end, and the total resistance is the sum of individual resistances.</li>
</ul>
<p>Formula for series resistors:</p>
<p>$$
  R_{eq} = R_1 + R_2 + \cdots + R_n
  $$</p>
<p>Example: For two resistors <span class="arithmatex">\( R_1 = 6 \, \Omega \)</span> and <span class="arithmatex">\( R_2 = 3 \, \Omega \)</span> in series:</p>
<p>$$
  R_{eq} = R_1 + R_2 = 6 + 3 = 9 \, \Omega
  $$</p>
<h4 id="parallel-connection">Parallel Connection:</h4>
<ul>
<li><strong>Parallel connection</strong>: Resistors have both terminals connected to the same pair of nodes, and the total resistance is found using the parallel resistance formula.</li>
</ul>
<p>Formula for parallel resistors:</p>
<p>$$
  \frac{1}{R_{eq}} = \frac{1}{R_1} + \frac{1}{R_2} + \cdots + \frac{1}{R_n}
  $$</p>
<p>Example: For two resistors <span class="arithmatex">\( R_1 = 6 \, \Omega \)</span> and <span class="arithmatex">\( R_2 = 3 \, \Omega \)</span> in parallel:</p>
<p>$$
  \frac{1}{R_{eq}} = \frac{1}{R_1} + \frac{1}{R_2} = \frac{1}{6} + \frac{1}{3} = \frac{1}{R_{eq}} = \frac{1}{2}
  $$</p>
<p>Thus, the equivalent resistance is:</p>
<p>$$
  R_{eq} = 2 \, \Omega
  $$</p>
<hr/>
<h3 id="algorithm-description">Algorithm Description</h3>
<p>The algorithm simplifies the circuit by <strong>iteratively reducing the graph</strong>. This reduction involves identifying series and parallel connections and simplifying them step by step until only one node remains, representing the total equivalent resistance.</p>
<h4 id="step-1-represent-the-circuit-as-a-graph">Step 1: Represent the Circuit as a Graph</h4>
<ul>
<li><strong>Nodes</strong>: Each junction in the circuit is represented by a node in the graph.</li>
<li><strong>Edges</strong>: Each resistor is represented as an edge between two nodes, with the resistance as the weight of the edge.</li>
</ul>
<p>Example:</p>
<ul>
<li>Two resistors <span class="arithmatex">\( R_1 = 6 \, \Omega \)</span> and <span class="arithmatex">\( R_2 = 3 \, \Omega \)</span> in series:</li>
<li><span class="arithmatex">\( R_1 \)</span> is connected to node 1, and <span class="arithmatex">\( R_2 \)</span> is connected between node 2 and node 3.</li>
<li>The graph representation has three nodes (1, 2, and 3) and two edges representing <span class="arithmatex">\( R_1 \)</span> and <span class="arithmatex">\( R_2 \)</span>.</li>
</ul>
<h4 id="step-2-detect-series-and-parallel-connections">Step 2: Detect Series and Parallel Connections</h4>
<p>We will iteratively reduce the graph by simplifying the series and parallel connections.</p>
<h5 id="series-connections">Series Connections:</h5>
<ul>
<li>If two resistors are in series (i.e., connected end-to-end), combine them by adding their resistance values.</li>
</ul>
<p>For two resistors <span class="arithmatex">\( R_1 \)</span> and <span class="arithmatex">\( R_2 \)</span> in series, the equivalent resistance is:</p>
<p>$$
  R_{eq} = R_1 + R_2
  $$</p>
<p>This process is repeated until no more simple series connections are left.</p>
<h5 id="parallel-connections">Parallel Connections:</h5>
<ul>
<li>If two resistors are in parallel (i.e., connected between the same two nodes), combine them using the parallel formula.</li>
</ul>
<p>For two resistors <span class="arithmatex">\( R_1 \)</span> and <span class="arithmatex">\( R_2 \)</span> in parallel, the equivalent resistance is:</p>
<p>$$
  \frac{1}{R_{eq}} = \frac{1}{R_1} + \frac{1}{R_2}
  $$</p>
<p>This process is repeated until no more simple parallel connections are left.</p>
<h4 id="step-3-iterative-graph-reduction">Step 3: Iterative Graph Reduction</h4>
<p>After identifying and simplifying the series and parallel connections, the graph is reduced step-by-step:</p>
<ol>
<li><strong>Identify series connections</strong>: Traverse the graph and check for resistors that are connected in series. Once identified, combine them by adding their resistance values.</li>
<li><strong>Identify parallel connections</strong>: Similarly, check for resistors that are connected in parallel. Combine them using the parallel resistance formula.</li>
<li><strong>Repeat the process</strong>: After each reduction (whether series or parallel), the graph is updated. New series or parallel connections may emerge from the simplification, so the process is repeated until the graph is reduced to a single equivalent resistance.</li>
</ol>
<h4 id="step-4-final-simplification">Step 4: Final Simplification</h4>
<ul>
<li>The algorithm continues simplifying the circuit until only <strong>one node</strong> remains, and the resistance of this node is the equivalent resistance of the entire circuit.</li>
</ul>
<hr/>
<h3 id="pseudocode-for-the-algorithm">Pseudocode for the Algorithm</h3>
<pre><code class="language-plaintext">Algorithm: Calculate Equivalent Resistance Using Graph Theory

Input: Graph G with nodes representing junctions and edges representing resistors
Output: Equivalent resistance of the entire circuit

1. Initialize the graph G with nodes and resistors (edges with weights).
2. While the graph contains more than one node:
   a. Detect and simplify **series connections**:
      - For each pair of nodes connected by resistors in series:
        - Combine the resistances by adding their weights.
        - Remove the original nodes and replace them with a new node that has the combined resistance.
   b. Detect and simplify **parallel connections**:
      - For each set of nodes connected by resistors in parallel:
        - Combine the resistances using the parallel formula.
        - Remove the original resistors and replace them with a new equivalent resistor.
3. Once the graph is reduced to a single node, return the equivalent resistance of that node.

</code></pre>
<h1 id="step-by-step-solution-for-task-2-equivalent-resistance-calculation-using-graph-theory">Step-by-Step Solution for Task 2: Equivalent Resistance Calculation Using Graph Theory</h1>
<h2 id="key-concepts">Key Concepts:</h2>
<h3 id="series-resistors">Series Resistors:</h3>
<ul>
<li>The equivalent resistance of two resistors <span class="arithmatex">\( R_1 \)</span> and <span class="arithmatex">\( R_2 \)</span> in series is simply the sum:</li>
</ul>
<p>$$
  R_{eq} = R_1 + R_2
  $$</p>
<h3 id="parallel-resistors">Parallel Resistors:</h3>
<ul>
<li>The equivalent resistance of two resistors <span class="arithmatex">\( R_1 \)</span> and <span class="arithmatex">\( R_2 \)</span> in parallel is given by:</li>
</ul>
<p>$$
  \frac{1}{R_{eq}} = \frac{1}{R_1} + \frac{1}{R_2}
  $$</p>
<h3 id="graph-representation">Graph Representation:</h3>
<ul>
<li><strong>Nodes</strong> represent junctions in the circuit.</li>
<li><strong>Edges</strong> represent resistors with <strong>weights</strong> equal to their resistance values.</li>
</ul>
<p>The circuit is represented as an undirected graph, where the resistors are edges with weights, and the junctions are the nodes.</p>
<h2 id="simplification-process">Simplification Process:</h2>
<ol>
<li>
<p><strong>Series Resistor Simplification:</strong></p>
</li>
<li>
<p>If two resistors are in series, their resistances add up. For nodes <span class="arithmatex">\( A \)</span>, <span class="arithmatex">\( B \)</span>, and <span class="arithmatex">\( C \)</span>, where <span class="arithmatex">\( A \)</span> is connected to <span class="arithmatex">\( B \)</span> and <span class="arithmatex">\( B \)</span> is connected to <span class="arithmatex">\( C \)</span>, replace the two resistors (edges) with one equivalent resistor whose resistance is the sum of the two.</p>
</li>
</ol>
<p>$$
   R_{eq} = R_1 + R_2
   $$</p>
<p>After the simplification, remove the two original resistors and add a new one between <span class="arithmatex">\( A \)</span> and <span class="arithmatex">\( C \)</span>.</p>
<ol>
<li>
<p><strong>Parallel Resistor Simplification:</strong></p>
</li>
<li>
<p>If two resistors are in parallel, their combined resistance is given by the formula:</p>
</li>
</ol>
<p>$$
   \frac{1}{R_{eq}} = \frac{1}{R_1} + \frac{1}{R_2}
   $$</p>
<p>For nodes <span class="arithmatex">\( A \)</span>, <span class="arithmatex">\( B \)</span>, and <span class="arithmatex">\( C \)</span>, where <span class="arithmatex">\( A \)</span> is connected to <span class="arithmatex">\( B \)</span>, and <span class="arithmatex">\( B \)</span> is connected to <span class="arithmatex">\( C \)</span>, replace the two resistors (edges) with one equivalent resistor using the formula above. Remove the two original resistors and add a new one between <span class="arithmatex">\( A \)</span> and <span class="arithmatex">\( C \)</span>.</p>
<h2 id="step-by-step-process">Step-by-Step Process:</h2>
<h3 id="1-graph-creation">1. <strong>Graph Creation:</strong></h3>
<ul>
<li>First, a graph is created using the <code>networkx</code> library where:</li>
<li><strong>Nodes</strong> represent junctions in the circuit.</li>
<li><strong>Edges</strong> represent the resistors, with each edge having a weight representing the resistance value.</li>
</ul>
<p>Example:</p>
<ul>
<li>Resistor <span class="arithmatex">\( R_1 = 6 \)</span> ohms between nodes 1 and 2.</li>
<li>Resistor <span class="arithmatex">\( R_2 = 3 \)</span> ohms between nodes 2 and 3.</li>
<li>Resistor <span class="arithmatex">\( R_3 = 4 \)</span> ohms between nodes 3 and 4.</li>
<li>Resistor <span class="arithmatex">\( R_4 = 5 \)</span> ohms between nodes 2 and 5.</li>
<li>Resistor <span class="arithmatex">\( R_5 = 2 \)</span> ohms between nodes 4 and 6.</li>
</ul>
<h3 id="2-series-resistor-detection">2. <strong>Series Resistor Detection:</strong></h3>
<ul>
<li>Identify two resistors that are connected in series by looking for nodes that have exactly two neighbors.</li>
<li>Apply the series simplification formula to these pairs and replace them with a single equivalent resistor.</li>
</ul>
<p>Example:</p>
<ul>
<li>If <span class="arithmatex">\( R_1 \)</span> and <span class="arithmatex">\( R_2 \)</span> are in series, their equivalent resistance will be:
  $$
  R_{eq} = R_1 + R_2
  $$</li>
</ul>
<p>After simplification, update the graph with a new edge that represents the equivalent resistance.</p>
<h3 id="3-parallel-resistor-detection">3. <strong>Parallel Resistor Detection:</strong></h3>
<ul>
<li>Identify two resistors that are connected in parallel by looking for nodes that have two neighbors with the same connecting node.</li>
<li>Apply the parallel simplification formula to these pairs and replace them with a single equivalent resistor.</li>
</ul>
<p>Example:</p>
<ul>
<li>If <span class="arithmatex">\( R_2 \)</span> and <span class="arithmatex">\( R_3 \)</span> are in parallel, their equivalent resistance will be:
  $$
  \frac{1}{R_{eq}} = \frac{1}{R_2} + \frac{1}{R_3}
  $$</li>
</ul>
<p>After simplification, update the graph with a new edge that represents the equivalent resistance.</p>
<h3 id="4-repeat-simplification">4. <strong>Repeat Simplification:</strong></h3>
<ul>
<li>Continue the simplification process until only one edge remains in the graph.</li>
<li>The remaining edge represents the <strong>equivalent resistance</strong> of the entire circuit.</li>
</ul>
<h3 id="5-final-result">5. <strong>Final Result:</strong></h3>
<ul>
<li>The final equivalent resistance is the weight of the last remaining edge in the graph, which is the simplified result of the entire circuit.</li>
</ul>
<h2 id="example-circuit">Example Circuit:</h2>
<h3 id="graph-representation_1">Graph Representation:</h3>
<p>Nodes: <span class="arithmatex">\( 1, 2, 3, 4, 5, 6 \)</span><br/>
Edges:</p>
<ul>
<li><span class="arithmatex">\( (1, 2, R_1 = 6 \, \Omega) \)</span></li>
<li><span class="arithmatex">\( (2, 3, R_2 = 3 \, \Omega) \)</span></li>
<li><span class="arithmatex">\( (3, 4, R_3 = 4 \, \Omega) \)</span></li>
<li><span class="arithmatex">\( (2, 5, R_4 = 5 \, \Omega) \)</span></li>
<li><span class="arithmatex">\( (4, 6, R_5 = 2 \, \Omega) \)</span></li>
</ul>
<pre><code class="language-python">import networkx as nx
import matplotlib.pyplot as plt

def plot_circuit(G, title):
    pos = nx.spring_layout(G, seed=42)
    plt.figure(figsize=(8, 6))
    nx.draw(G, pos, with_labels=True, node_color='lightblue', node_size=700, font_weight='bold', edge_color='gray')

    edge_labels = {}
    for u, v, k, data in G.edges(data=True, keys=True):
        label = f"{data['resistance']:.1f}Ω"
        if (u, v) in edge_labels:
            edge_labels[(u, v)] += f", {label}"
        elif (v, u) in edge_labels:
            edge_labels[(v, u)] += f", {label}"
        else:
            edge_labels[(u, v)] = label

    nx.draw_networkx_edge_labels(G, pos, edge_labels=edge_labels, font_color='red')
    plt.title(title)
    plt.show()

def merge_series(G, start_node, end_node):
    while True:
        nodes_to_merge = [node for node in G.nodes if G.degree(node) == 2 and node not in [start_node, end_node]]
        if not nodes_to_merge:
            break
        for node in nodes_to_merge:
            edges = list(G.edges(node, keys=True, data=True))
            if len(edges) == 2:
                (u1, v1, k1, d1), (u2, v2, k2, d2) = edges
                R1 = d1['resistance']
                R2 = d2['resistance']
                endpoint1 = u1 if u1 != node else v1
                endpoint2 = u2 if u2 != node else v2
                R_series = R1 + R2
                # Remove the node and its edges
                G.remove_edge(u1, v1, key=k1)
                G.remove_edge(u2, v2, key=k2)
                G.remove_node(node)
                G.add_edge(endpoint1, endpoint2, resistance=R_series)

def merge_parallel(G):
    edges_to_check = list(G.edges(keys=True, data=True))
    seen_pairs = set()

    for u, v, k, data in edges_to_check:
        if (u, v) in seen_pairs or (v, u) in seen_pairs:
            continue
        parallel_edges = list(G.get_edge_data(u, v).items())
        if len(parallel_edges) &gt; 1:
            resistances = [attr['resistance'] for key, attr in parallel_edges]
            R_eq = 1 / sum(1 / r for r in resistances)
            for key, attr in parallel_edges:
                G.remove_edge(u, v, key=key)
            G.add_edge(u, v, resistance=R_eq)
        seen_pairs.add((u, v))

def calculate_equivalent_resistance(G, start_node, end_node):
    while True:
        prev_edges = list(G.edges(keys=True, data=True))
        merge_series(G, start_node, end_node)
        merge_parallel(G)
        if len(G.edges) == 1 and G.has_edge(start_node, end_node):
            return list(G.get_edge_data(start_node, end_node).values())[0]['resistance']
        if list(G.edges(keys=True, data=True)) == prev_edges:
            break
    if G.has_edge(start_node, end_node):
        return list(G.get_edge_data(start_node, end_node).values())[0]['resistance']
    else:
        raise Exception("Unable to reduce to a single equivalent resistor.")

# --- Build your circuit ---
G = nx.MultiGraph()  # VERY IMPORTANT: MultiGraph
start_node = 'A'
end_node = 'B'

# Add resistors (edges)
G.add_edge('A', 'C', resistance=100)
G.add_edge('C', 'D', resistance=200)
G.add_edge('D', 'B', resistance=300)
G.add_edge('A', 'D', resistance=150)
G.add_edge('C', 'B', resistance=50)

# Plot original circuit
plot_circuit(G, "Original Circuit")

# Solve and reduce
req = calculate_equivalent_resistance(G, start_node, end_node)
print(f"Equivalent Resistance between {start_node} and {end_node}: {req:.2f} Ohms")

# Plot reduced circuit
plot_circuit(G, "Reduced Circuit (Equivalent Resistor)")


</code></pre>
<p><img alt="Alt text" src="../image-1.png"/></p>
<p>This is a <strong>graph-based model</strong> of an electrical circuit, where:</p>
<ul>
<li><strong>Nodes (A, B, C, D)</strong> represent connection points.</li>
<li><strong>Edges</strong> between nodes represent <strong>resistors</strong>, with resistance values written in <strong>Ohms (Ω)</strong>.</li>
<li>The <strong>thickness</strong> of the connections is uniform, but edge labels show <strong>resistance values clearly in red</strong>.</li>
</ul>
<hr/>
<h2 id="what-the-circuit-looks-like">What the Circuit Looks Like</h2>
<ul>
<li><strong>A</strong> is connected to <strong>C</strong> with a <strong>100 Ω</strong> resistor.</li>
<li><strong>C</strong> is connected to <strong>D</strong> with a <strong>200 Ω</strong> resistor.</li>
<li><strong>D</strong> is connected to <strong>B</strong> with a <strong>300 Ω</strong> resistor.</li>
<li><strong>A</strong> is also connected directly to <strong>D</strong> with a <strong>150 Ω</strong> resistor.</li>
<li><strong>C</strong> is connected directly to <strong>B</strong> with a <strong>50 Ω</strong> resistor.</li>
</ul>
<hr/>
<h3 id="observations">Observations</h3>
<ul>
<li>Multiple paths exist from <strong>A</strong> to <strong>B</strong>.</li>
<li>Some resistors might be in <strong>series</strong> or <strong>parallel</strong>.</li>
<li>We can simplify the network <strong>step-by-step</strong>.</li>
</ul>
<hr/>
<hr/>
<h3 id="simplification-steps">Simplification Steps</h3>
<ol>
<li><strong>Series resistors</strong> are merged (added together).</li>
<li><strong>Parallel resistors</strong> are combined using the formula:</li>
</ol>
<p>$$
   \frac{1}{R_{\text{eq}}} = \frac{1}{R_1} + \frac{1}{R_2} + \dots
   $$</p>
<ol>
<li>Keeps simplifying until only <strong>one equivalent resistor</strong> remains between start point <strong>A</strong> and end point <strong>B</strong>.</li>
<li>Plots the <strong>final simplified circuit</strong>, showing only the equivalent resistor between <strong>A</strong> and <strong>B</strong>.</li>
<li>Prints the <strong>final equivalent resistance</strong>.</li>
</ol>
<hr/>
</div>
</div><footer>
<div aria-label="Footer Navigation" class="rst-footer-buttons" role="navigation">
<a class="btn btn-neutral float-left" href="../../4%20Electromagnetism/Problem_1/" title="Simulating the Effects of the Lorentz Force"><span class="icon icon-circle-arrow-left"></span> Previous</a>
<a class="btn btn-neutral float-right" href="../../6%20Statistics/Problem_1/" title="Problem 1">Next <span class="icon icon-circle-arrow-right"></span></a>
</div>
<hr/>
<div role="contentinfo">
<!-- Copyright etc -->
</div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
</div>
</div>
</section>
</div>
<div aria-label="Versions" class="rst-versions" role="note">
<span class="rst-current-version" data-toggle="rst-current-version">
<span><a href="../../4%20Electromagnetism/Problem_1/" style="color: #fcfcfc">« Previous</a></span>
<span><a href="../../6%20Statistics/Problem_1/" style="color: #fcfcfc">Next »</a></span>
</span>
</div>
<script src="../../../js/jquery-3.6.0.min.js"></script>
<script>var base_url = "../../..";</script>
<script src="../../../js/theme_extra.js"></script>
<script src="../../../js/theme.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
<script src="../../../search/main.js"></script>
<script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>
</body>
</html>
